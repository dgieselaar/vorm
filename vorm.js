"use strict";!function(){angular.module("vorm",[])}();!function(){angular.module("vorm").factory("VormFieldCtrl",function(){return function(n,t){function e(n,e){t[n.$name]=e}var u={},r=[],i=[];return void 0===t&&(t=u),u.getName=function(){return n},u.addModel=function(n){r.push(n)},u.removeModel=function(n){_.pull(r,n)},u.getModels=function(){return r},u.getValue=function(){return u.getValueList()[0]},u.getValueList=function(){return _.pluck(r,"$modelValue")},u.setValue=function(n){var t=r[0];t&&e(t,n)},u.setValueList=function(n){n||(n=[]),r.forEach(function(t,u){var r=n[u];e(t,r)})},u.changeListeners=i,"valid invalid dirty pristine touched untouched".split(" ").forEach(function(n){var t=n.substr(0,1).toUpperCase()+n.substr(1),e="is"+t,i="$"+n,o="set"+t,a="every";u[e]=function(){return r[a](function(n){return n[i]})},"valid"!==a&&"invalid"!==a&&(u[o]=function(){var n=arguments;r.forEach(function(t){t[o].apply(t,n)})})}),u}})}();var _slicedToArray=function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r)){for(var o,n=[],t=r[Symbol.iterator]();!(o=t.next()).done&&(n.push(o.value),!e||n.length!==e););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")};!function(){angular.module("vorm").directive("ngModel",["VormFieldCtrl",function(r){return{require:["ngModel","^?vormField","^?vormForm"],link:function(e,o,n,t){var i=_slicedToArray(t,3),d=i[0],l=i[1],a=i[2];(l||a)&&(l||(l=new r(n.ngModel,e),a.addField(l),e.$on("$destroy",function(){a.removeField(l)})),l.addModel(d),e.$on("$destroy",function(){l.removeModel(d)}))}}}])}();var _slicedToArray=function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r)){for(var n,o=[],t=r[Symbol.iterator]();!(n=t.next()).done&&(o.push(n.value),!e||o.length!==e););return o}throw new TypeError("Invalid attempt to destructure non-iterable instance")};!function(){angular.module("vorm").directive("vormChange",["$parse",function(r){return{require:["?vorm","?vormField"],link:function(e,n,o,t){function a(r,n,o){i(e,{$name:r,$value:n,$before:o})}var i,u=_slicedToArray(t,2),l=u[0],v=u[1];if(o.vormChange){if(!l&&!v)throw new Error("vormChange needs either a vorm or a vormField controller.");i=r(o.vormChange),l.changeListeners.push(a)}}}}])}();var _slicedToArray=function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r)){for(var o,n=[],t=r[Symbol.iterator]();!(o=t.next()).done&&(n.push(o.value),!e||n.length!==e););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")};!function(){angular.module("vorm").directive("vormField",["VormFieldCtrl",function(r){return{scope:!0,require:["vormField","^?vormForm"],controller:["$scope","$attrs",function(e,o){var n=e.$eval(o.vormField)||o.ngModel;angular.extend(this,new r(n))}],controllerAs:"vormField",link:function(r,e,o,n){var t=_slicedToArray(n,2),i=t[0],l=t[1];l&&(l.addField(i),r.$on("$destroy",function(){l.removeField(i)}))}}}])}();!function(){angular.module("vorm").directive("vormFieldGenerator",["vormTemplateService",function(e){return{require:["vormFieldGenerator"],template:function(){return e.getDefaultTemplate()},controller:["$scope","$attrs",function(t,r){var n,l=this,a=t.$eval(r.config)||{};if(a=_.extend(a,{name:r.name,type:r.type,label:r.label,template:t.$eval(r.label)}),!a.name||!a.type)throw new Error("Missing one of required arguments: name, type ");return n=e.getModelTemplate(a.type,a.template),l.getInputTemplate=function(){return n},l}],controllerAs:"vormFieldGenerator"}}])}();!function(){angular.module("vorm").directive("vormForm",[function(){return{scope:!0,require:["form"],controller:["$element",function(n){function e(){var n=arguments;_.each(i,function(e){e.apply(r,n)})}var r=this,t=[],i=[],u=[];return r.addField=function(n){t.push(n),n.changeListeners.push(e)},r.removeField=function(n){_.pull(t,n),_.pull(n.changeListeners,e)},r.getFields=function(){return t},r.changeListeners=i,r.submitListeners=u,"valid invalid dirty pristine touched untouched".split(" ").forEach(function(n){var e=n.substr(0,1).toUpperCase()+n.substr(1),i="is"+e,u="set"+e,o="every";r[i]=function(){return t[o](function(n){return n[i]()})},"valid"!==o&&"invalid"!==o&&(r[u]=function(){var n=arguments;t.forEach(function(e){e[u].apply(e,n)})})}),n.bind("submit",function(){_.each(u,function(n){n()})}),r}],controllerAs:"vormForm"}}])}();var _slicedToArray=function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r)){for(var t,n=[],o=r[Symbol.iterator]();!(t=o.next()).done&&(n.push(t.value),!e||n.length!==e););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")};!function(){angular.module("vorm").directive("vormInput",[function(){return{require:["^?vormFieldGenerator"],scope:!0,controllerAs:"vormInput",link:function(r,e,t,n,o){var i=_slicedToArray(n,1),a=i[0];if(a)a.getInputTemplate().then(function(t){t(r,function(r){e.replaceWith(r)})})["catch"](function(r){console.log("Error loading input template:",r)});else{if(!o)throw new Error("vormInput needs either a transclude function or vormFieldGenerator.");o(function(r){e.replaceWith(r)})}}}}])}();var _slicedToArray=function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r)){for(var t,n=[],i=r[Symbol.iterator]();!(t=i.next()).done&&(n.push(t.value),!e||n.length!==e););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")};!function(){angular.module("vorm").directive("vormChange",["$parse",function(r){return{require:["vorm"],link:function(e,t,n,i){function o(){a(e,{$values:l.getValues()})}var a,u=_slicedToArray(i,1),l=u[0];n.vormSubmit&&(a=r(n.vormSubmit),l.changeListeners.push(o))}}}])}();!function(){angular.module("vorm").provider("vormTemplateService",[function(){var n,l={};return n='\n				<div class="vorm-field"\n					ng-class="vormField.getClassObj()"\n					>\n					<div class="vorm-field-label">\n						{{vormFieldTemplate.getLabel()}}\n					</div>\n					\n					<ul class="vorm-input-list">\n						<li class="vorm-input" ng-repeat="model in vormField.getModels()">\n						</li>\n					</ul>\n					\n					<div class="vorm-field-status">\n						\n					</div>\n				</div>\n			',{$get:function(){return l}}}])}();
//# sourceMappingURL=vorm.js.map