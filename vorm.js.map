{"version":3,"sources":["_.js","VormEvent.js","VormFieldCtrl.js","VormModelCtrl.js","VormModelDelegate.js","VormModelDelegateCtrl.js","VormValueType.js","ngModel.js","vormChange.js","vormControl.js","vormControlList.js","vormDelegateButton.js","vormField.js","vormFieldConfig.js","vormFieldTemplate.js","vormFieldWrapper.js","vormFieldset.js","vormFocusableList.js","vormForm.js","vormInvoke.js","vormLabel.js","vormSubmit.js","vormTemplateService.js"],"names":["angular","module","factory","$document","$window","VormEvent","undefined","CustomEvent","type","data","detail","bubbles","error","event","createEvent","initCustomEvent","VormValueType","name","element","setModelValue","model","value","$viewChangeListeners","$modelValue","$$writeModelToScope","listeners","handleViewChange","ctrl","triggerViewChange","handleFormatterCall","triggerModelChange","models","viewChangeListeners","modelChangeListeners","prefix","valueType","SINGLE","required","dispatchEvent","_","invoke","getName","setName","arguments","addModel","push","$formatters","removeModel","pull","getModels","getValue","LIST","pluck","NAMED","each","$name","getValueType","setValueType","indexOf","Error","setValue","index","modelsToChange","concat","val","key","find","isRequired","setRequired","isEmpty","every","$isEmpty","chain","split","map","zipObject","mapValues","m","substr","length","capitalize","getClassObj","forEach","capitalized","propertyName","method","outerArgs","apply","this","ngModel","holders","validators","asyncValidators","formatters","parsers","collection","add","remove","get","nm","setNgModel","Array","prototype","methodName","accessorName","setViewValue","$setViewValue","$render","directive","VormModelDelegateCtrl","controller","$scope","$attrs","delegate","$eval","getNgModel","clearViewValue","constant","_slicedToArray","arr","i","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","_s","_i","next","done","err","TypeError","require","link","scope","attrs","controllers","_controllers","vormModel","unset","$on","$parse","handleChange","cb","$event","vormChange","bind","matchesFuncName","createElement","restrict","$element","vormField","vormFieldConfig","vormFocusableList","vormFieldTemplate","inputId","Math","random","toString","slice","invokeData","getData","getConfig","addId","getModelCompiler","clonedElement","focusable","selector","prepend","querySelector","attr","getInputId","$$postDigest","getOptions","version","minor","options","nwOpts","equals","removeId","controllerAs","vormTemplateService","VormModelDelegate","template","getDefaultControlTemplate","triggerAsyncViewChange","unwatch","$watchCollection","delegates","limit","NaN","typeOpts","getDelegates","createDelegate","removeDelegate","clearDelegate","getLimit","setLimit","l","Number","reachedLimit","isClearButtonVisible","handleCreateClick","handleClearClick","replace","vormControlList","handleClick","isDisabled","isVisible","getLabel","config","typeOptions","addLabel","VormFieldCtrl","extend","vorm","addField","removeField","vormInvoke","vormForm","$watch","invokable","values","getValues","$values","wrapperEl","getDefaultTemplate","querySelectorAll","replaceWith","outerHTML","compiler","defaults","copy","label","modelTemplate","wrapped","append","transclude","fields","getFields","ids","id","getId","recalc","indexBy","field","freeze","changeListeners","listener","handleModelChange","submitListeners","toUpperCase","$injector","locals","last","$inject","handleSubmit","vormSubmit","provider","modifyModelTemplates","processor","modelTemplates","modifyTemplate","processedEl","wrapperTemplate","modifyControlTemplate","controlTemplate","modelCompilers","assign","placeholder","includes","select","$get","$compile","el","modelEl","some","childEl","hasAttribute"],"mappings":"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","file":"vorm.js","sourcesContent":["/*global require*/\n(function ( ) {\n\t\n\tangular.module('vorm', []);\n\t\n})();\n","/*global angular*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.factory('VormEvent', [ '$document', '$window', function ( $document, $window ) {\n\t\t\t\n\t\t\tlet VormEvent;\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst event = new $window.CustomEvent('foo'); // jshint ignore:line\n\t\t\t\tVormEvent = function ( type, data ) {\n\t\t\t\t\treturn new $window.CustomEvent(type, {\n\t\t\t\t\t\tdetail: data,\n\t\t\t\t\t\tbubbles: true\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t} catch ( error ) {\n\t\t\t\tVormEvent = function ( type, data ) {\n\t\t\t\t\tconst event = $document[0].createEvent('CustomEvent');\n\t\t\t\t\tevent.initCustomEvent(type, true, true, data);\n\t\t\t\t\treturn event;\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\t\treturn VormEvent;\n\t\t\t\n\t\t}]);\n\t\n})();\n","/*global angular,_*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.factory('VormFieldCtrl', [ 'VormEvent', 'VormValueType', function ( VormEvent, VormValueType ) {\n\t\t\t\n\t\t\treturn function ( name, element ) {\n\t\t\t\t\n\t\t\t\tconst ctrl = {},\n\t\t\t\t\tmodels = [],\n\t\t\t\t\tviewChangeListeners = [],\n\t\t\t\t\tmodelChangeListeners = [],\n\t\t\t\t\tprefix = 'vorm-field-';\n\t\t\t\t\n\t\t\t\tlet valueType = VormValueType.SINGLE,\n\t\t\t\t\trequired;\n\t\t\t\t\n\t\t\t\tfunction setModelValue ( model, value ) {\n\t\t\t\t\t// $$writeModelToScope calls the view listeners\n\t\t\t\t\t// and we don't really want that\n\t\t\t\t\tconst { $viewChangeListeners, $modelValue } = model;\n\t\t\t\t\t\t\n\t\t\t\t\tmodel.$viewChangeListeners = [];\n\t\t\t\t\tmodel.$modelValue = value;\n\t\t\t\t\tmodel.$$writeModelToScope();\n\t\t\t\t\t\n\t\t\t\t\t// reset all the things\n\t\t\t\t\tmodel.listeners = $viewChangeListeners;\n\t\t\t\t\tmodel.$modelValue = $modelValue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfunction handleViewChange ( ) {\n\t\t\t\t\tctrl.triggerViewChange();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfunction handleFormatterCall ( ) {\n\t\t\t\t\t// now we know the model has changed\n\t\t\t\t\tctrl.triggerModelChange();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tctrl.triggerModelChange = function ( ) {\n\t\t\t\t\telement.dispatchEvent(new VormEvent('modelchange', { name: name } ));\n\t\t\t\t\t_.invoke(modelChangeListeners, 'call', null, name);\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.triggerViewChange = function ( ) {\n\t\t\t\t\telement.dispatchEvent(new VormEvent('viewchange', { name: name } ));\n\t\t\t\t\t_.invoke(viewChangeListeners, 'call', null, name);\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.getName = function ( ) {\n\t\t\t\t\treturn name;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.setName = function ( ) {\n\t\t\t\t\tname = arguments[0];\n\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\tctrl.addModel = function ( model ) {\n\t\t\t\t\tmodels.push(model);\n\t\t\t\t\tmodel.$viewChangeListeners.push(handleViewChange);\n\t\t\t\t\tmodel.$formatters.push(handleFormatterCall);\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.removeModel = function ( model ) {\n\t\t\t\t\t_.pull(models, model);\n\t\t\t\t\t_.pull(model.$viewChangeListeners, handleViewChange);\n\t\t\t\t\t_.pull(model.$formatters, handleFormatterCall);\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.getModels = function ( ) {\n\t\t\t\t\treturn models;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.getValue = function ( ) {\n\t\t\t\t\tlet value;\n\t\t\t\t\t\n\t\t\t\t\tswitch(valueType) {\n\t\t\t\t\t\tcase VormValueType.SINGLE:\n\t\t\t\t\t\tvalue = models[0] ? models[0].$modelValue : undefined;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase VormValueType.LIST:\n\t\t\t\t\t\tvalue = _.pluck(models, '$modelValue');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase VormValueType.NAMED:\n\t\t\t\t\t\tvalue = {};\n\t\t\t\t\t\t_.each(models, function ( model) {\n\t\t\t\t\t\t\tvalue[model.$name] = model.$modelValue;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn value;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.getValueType = function ( ) {\n\t\t\t\t\treturn valueType;\t\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.setValueType = function ( type ) {\n\t\t\t\t\tif([ VormValueType.SINGLE, VormValueType.LIST, VormValueType.NAMED ].indexOf(type) === -1) {\n\t\t\t\t\t\tthrow new Error('Unsupported VormValueType: ' + VormValueType);\n\t\t\t\t\t}\n\t\t\t\t\tvalueType = type;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.setValue = function ( value ) {\n\t\t\t\t\tswitch(valueType) {\n\t\t\t\t\t\tcase VormValueType.SINGLE:\n\t\t\t\t\t\tif(models[0]) {\n\t\t\t\t\t\t\tsetModelValue(models[0], value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase VormValueType.LIST:\n\t\t\t\t\t\t_.each(models, function ( model, index ) {\n\t\t\t\t\t\t\tsetModelValue(model, value[index]);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase VormValueType.NAMED:\n\t\t\t\t\t\tconst modelsToChange = models.concat();\n\t\t\t\t\t\t_.each(value, function ( val, key ) {\n\t\t\t\t\t\t\tvar model = _.find(models, { $name: key });\n\t\t\t\t\t\t\tif(model) {\n\t\t\t\t\t\t\t\tsetModelValue(model, val);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_.pull(modelsToChange, model);\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t_.each(modelsToChange, function ( model ) {\n\t\t\t\t\t\t\tsetModelValue(model, undefined);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.isRequired = function ( ) {\n\t\t\t\t\treturn required;\t\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.setRequired = function ( ) {\n\t\t\t\t\trequired = !!arguments[0];\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.isEmpty = function ( ) {\n\t\t\t\t\treturn models.every(function ( model ) {\n\t\t\t\t\t\treturn model.$isEmpty();\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tlet chain = _('valid invalid dirty pristine touched untouched required empty'.split(' '))\n\t\t\t\t\t\t.map(function ( key ) {\n\t\t\t\t\t\t\treturn prefix + key;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.zipObject()\n\t\t\t\t\t\t.mapValues(function ( value, key ) {\n\t\t\t\t\t\t\tlet m = key.substr(prefix.length);\n\t\t\t\t\t\t\treturn ctrl['is' + _.capitalize(m)]();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.each(function ( ) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\tctrl.getClassObj = function ( ) {\n\t\t\t\t\treturn chain.value();\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.viewChangeListeners = viewChangeListeners;\n\t\t\t\tctrl.modelChangeListeners = modelChangeListeners;\n\t\t\t\n\t\t\t\t'valid invalid dirty pristine touched untouched'.split(' ').forEach(function ( type ) {\n\t\t\t\t\tconst capitalized = _.capitalize(type),\n\t\t\t\t\t\tgetName = 'is' + capitalized,\n\t\t\t\t\t\tpropertyName = '$' + type,\n\t\t\t\t\t\tsetName = 'set' + capitalized,\n\t\t\t\t\t\tmethod = [ 'valid', 'pristine', 'untouched' ].indexOf(type) !== -1 ? 'every' : 'some';\n\t\t\t\t\t\t\n\t\t\t\t\tctrl[getName] = function ( ) {\n\t\t\t\t\t\treturn models[method](function ( model ) {\n\t\t\t\t\t\t\treturn model[propertyName];\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tif(type !== 'valid' && type !== 'invalid') {\n\t\t\t\t\t\tctrl[setName] = function ( ) {\n\t\t\t\t\t\t\tvar outerArgs = arguments;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tmodels.forEach(function ( model ) {\n\t\t\t\t\t\t\t\tmodel['$' + setName].apply(model, outerArgs);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn ctrl;\n\t\t\t};\n\t\t\t\n\t\t}]);\n\t\n})();\n","/*global angular,_*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.factory('VormModelCtrl', [ function ( ) {\n\t\t\t\n\t\t\treturn function ( ) {\n\t\t\t\t\n\t\t\t\tlet ctrl = this,\n\t\t\t\t\tname,\n\t\t\t\t\tngModel,\n\t\t\t\t\tholders = {\n\t\t\t\t\t\tviewChangeListeners: [],\n\t\t\t\t\t\tvalidators: [],\n\t\t\t\t\t\tasyncValidators: [],\n\t\t\t\t\t\tformatters: [],\n\t\t\t\t\t\tparsers: []\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t_.each(holders, function ( collection, key ) {\n\t\t\t\t\tctrl[key] = {\n\t\t\t\t\t\tadd: function ( val ) {\n\t\t\t\t\t\t\tcollection.push(val);\n\t\t\t\t\t\t\tif(ngModel) {\n\t\t\t\t\t\t\t\tngModel['$' + key].push(val);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tremove: function ( val ) {\n\t\t\t\t\t\t\t_.pull(collection, val);\n\t\t\t\t\t\t\tif(ngModel) {\n\t\t\t\t\t\t\t\t_.pull(ngModel['$' + key], val);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget: function ( ) {\n\t\t\t\t\t\t\treturn collection;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\tctrl.setName = function ( nm ) {\n\t\t\t\t\tname = nm;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.getName = function ( ) {\n\t\t\t\t\treturn name;\t\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.setNgModel = function ( model ) {\n\t\t\t\t\tif(model) {\n\t\t\t\t\t\tthrow new Error('vorm/model-set');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tngModel = model;\n\t\t\t\t\t\n\t\t\t\t\t_.each(holders, function ( collection, key) {\n\t\t\t\t\t\tArray.prototype.push.apply(ngModel['$'+ key], collection);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\treturn function ( ) {\n\t\t\t\t\t\tngModel = null;\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t'pending untouched touched pristine dirty valid invalid'.split(' ').forEach(function ( key ) {\n\t\t\t\t\tlet methodName = 'is' + _.capitalize(key),\n\t\t\t\t\t\taccessorName = '$' + key;\n\t\t\t\t\t\t\n\t\t\t\t\tctrl[methodName] = function ( ) { \n\t\t\t\t\t\treturn ngModel ? ngModel[accessorName] : undefined; \n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tctrl.setViewValue = function ( value ) {\n\t\t\t\t\tngModel.$setViewValue(value);\n\t\t\t\t\tngModel.$render();\n\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\tctrl.value = null;\n\t\t\t\t\n\t\t\t\treturn ctrl;\n\t\t\t\t\n\t\t\t};\n\t\t\t\n\t\t}]);\n\t\n})();\n","/*global angular*/\r\n(function ( ) {\r\n\t\r\n\tangular.module('vorm')\r\n\t\t.directive('VormModelDelegate', [ 'VormModelDelegateCtrl', function ( VormModelDelegateCtrl ) {\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\tcontroller: [ '$scope', '$attrs', function ( $scope, $attrs ) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar ctrl = this,\r\n\t\t\t\t\t\tdelegate = $scope.$eval($attrs.delegate);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif(!delegate) {\r\n\t\t\t\t\t\tdelegate = new VormModelDelegateCtrl();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tctrl.setNgModel = delegate.setNgModel;\r\n\t\t\t\t\t\r\n\t\t\t\t}]\r\n\t\t\t};\r\n\t\t\t\r\n\t\t}]);\r\n\t\r\n})();\r\n","/*global angular*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.factory('VormModelDelegateCtrl', [ function ( ) {\n\t\t\t\n\t\t\treturn function ( ) {\n\t\t\t\t\t\n\t\t\t\tlet ctrl = {},\n\t\t\t\t\tname,\n\t\t\t\t\tngModel = null,\n\t\t\t\t\tviewChangeListeners = [];\n\t\t\t\t\n\t\t\t\tctrl.value = undefined;\n\t\t\t\t\n\t\t\t\tctrl.setName = function ( ) {\n\t\t\t\t\treturn name;\t\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.getName = function ( ) {\n\t\t\t\t\treturn name;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.setNgModel = function ( model ) {\n\t\t\t\t\t\n\t\t\t\t\tif(ngModel) {\n\t\t\t\t\t\tthrow new Error('Cannot set ngModel twice');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tngModel = model;\n\t\t\t\t\t\n\t\t\t\t\tArray.prototype.push.apply(ngModel.$viewChangeListeners, viewChangeListeners);\n\t\t\t\t\tctrl.viewChangeListeners = ngModel.$viewChangeListeners;\n\t\t\t\t\t\n\t\t\t\t\treturn function ( ) {\n\t\t\t\t\t\tngModel = null;\t\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.getNgModel = function ( ) {\n\t\t\t\t\treturn ngModel;\t\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.clearViewValue = function ( ) {\n\t\t\t\t\tngModel.$setViewValue(undefined);\n\t\t\t\t\tngModel.$render();\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.viewChangeListeners = viewChangeListeners;\n\t\t\t\t\n\t\t\t\treturn ctrl;\n\t\t\t\t\n\t\t\t};\n\t\t\t\n\t\t}]);\n\t\n})();\n","/*global angular*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.constant('VormValueType',{\n\t\t\tSINGLE: 'single',\n\t\t\tLIST: 'list',\n\t\t\tNAMED: 'named'\n\t\t});\n\t\n})();\n","/*global angular*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.directive('ngModel', [ function ( ) {\n\t\t\t\n\t\t\treturn {\n\t\t\t\trequire: [ 'ngModel', '^?vormModel' ],\n\t\t\t\tlink: function ( scope, element, attrs, controllers ) {\n\t\t\t\t\t\n\t\t\t\t\tlet [ ngModel, vormModel ] = controllers;\n\t\t\t\t\t\n\t\t\t\t\tif(!vormModel) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlet unset = vormModel.setNgModel(ngModel);\n\t\t\t\t\t\n\t\t\t\t\tscope.$on('$destroy', function ( ) {\n\t\t\t\t\t\tunset();\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t}]);\n\t\n})();\n","/*global angular*/\n(function ( ) { \n\t\n\tangular.module('vorm')\n\t\t.directive('vormChange', [ '$parse', function ( $parse ) {\n\t\t\t\n\t\t\treturn {\n\t\t\t\tlink: function ( scope, element, attrs ) {\n\t\t\t\t\t\n\t\t\t\t\tconst cb = $parse(attrs.vormChange);\n\t\t\t\t\t\n\t\t\t\t\tfunction handleChange ( event, name ) {\n\t\t\t\t\t\tcb(scope, {\n\t\t\t\t\t\t\t$event: event,\n\t\t\t\t\t\t\t$name: event.detail ? event.detail.name : name\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telement.bind('viewchange', handleChange);\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t}]);\n})();\n","/*global angular,_*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.directive('vormControl', [ '$document', function ( $document ) { \n\t\t\t\n\t\t\tlet matchesFuncName = (function ( ) {\n\t\t\t\t\n\t\t\t\tlet element = $document[0].createElement('div');\n\t\t\t\t\n\t\t\t\treturn _([ '', 'ms', 'moz', 'webkit'])\n\t\t\t\t\t.map(function ( prefix ) {\n\t\t\t\t\t\treturn (prefix ? (prefix + 'MatchesSelector') : 'matches');\n\t\t\t\t\t})\n\t\t\t\t\t.find(function ( name ) {\n\t\t\t\t\t\treturn name in element;\n\t\t\t\t\t});\n\t\t\t})();\n\t\t\t\n\t\t\t\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\trequire: [ 'vormControl', '^vormField', '^vormFieldConfig', '^vormFocusableList', '^vormFieldTemplate' ],\n\t\t\t\tcontroller: [ '$scope', '$element', '$attrs', function ( $scope, $element, $attrs ) {\n\t\t\t\t\t\n\t\t\t\t\tvar ctrl = this,\n\t\t\t\t\t\tvormField,\n\t\t\t\t\t\tvormFieldConfig,\n\t\t\t\t\t\tvormFocusableList,\n\t\t\t\t\t\tvormFieldTemplate,\n\t\t\t\t\t\tinputId = Math.random().toString(36).slice(2);\n\t\t\t\t\t\n\t\t\t\t\tctrl.link = function ( controllers ) {\n\t\t\t\t\t\tvormField = controllers[0];\n\t\t\t\t\t\tvormFieldConfig = controllers[1];\n\t\t\t\t\t\tvormFocusableList = controllers[2];\n\t\t\t\t\t\tvormFieldTemplate = controllers[3];\n\t\t\t\t\t\t\n\t\t\t\t\t\tctrl.invokeData = vormFieldConfig.invokeData;\n\t\t\t\t\t\tctrl.getData = vormFieldConfig.getData;\n\t\t\t\t\t\tctrl.getConfig = vormFieldConfig.getConfig;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvormFocusableList.addId(inputId);\n\t\t\t\t\t\t\n\t\t\t\t\t\tvormFieldTemplate.getModelCompiler()($scope, function ( clonedElement ) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlet focusable,\n\t\t\t\t\t\t\t\tselector = 'input,keygen,meter,output,progress,select,textarea';\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t$element.prepend(clonedElement);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(clonedElement[0][matchesFuncName](selector)) {\n\t\t\t\t\t\t\t\tfocusable = clonedElement;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfocusable = angular.element(clonedElement[0].querySelector(selector));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tfocusable.attr('id', ctrl.getInputId());\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t$scope.$$postDigest(function ( ) {\n\t\t\t\t\t\t\t\t$scope.$eval($attrs.delegate).setNgModel(clonedElement.controller('ngModel'));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.isRequired = function ( ) {\n\t\t\t\t\t\treturn vormField && vormField.isRequired();\t\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.getInputId = function ( ) {\n\t\t\t\t\t\treturn inputId;\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tif(angular.version.minor >= 4) {\n\t\t\t\t\t\t// dynamic options throws an error in <=1.3.x\n\t\t\t\t\t\t// fixed in 1.4.x\n\t\t\t\t\t\t// https://github.com/angular/angular.js/pull/10639\n\t\t\t\t\t\tctrl.getOptions = function ( ) {\n\t\t\t\t\t\t\treturn vormFieldTemplate.invokeData('options');\t\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctrl.getOptions = (function ( ) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlet options;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn function ( ) {\n\t\t\t\t\t\t\t\tconst nwOpts = vormFieldConfig.invokeData('options');\n\t\t\t\t\t\t\t\tif(options !== nwOpts && !angular.equals(options,nwOpts)) {\n\t\t\t\t\t\t\t\t\toptions = nwOpts;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treturn options;\t\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t})();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t$scope.$on('$destroy', function ( ) {\n\t\t\t\t\t\tvormFocusableList.removeId(inputId);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t}],\n\t\t\t\tcontrollerAs: 'vormControl',\n\t\t\t\tlink: function ( scope, element, attrs, controllers ) {\n\t\t\t\t\tcontrollers[0].link(controllers.slice(1));\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\t\n\t\t}]);\n\t\n})();\n","/*global angular,_*/\n(function ( ) {\n\n\tangular.module('vorm')\n\t\t.directive('vormControlList', [ 'vormTemplateService', 'VormModelDelegate', function ( vormTemplateService, VormModelDelegate ) {\n\t\t\t\n\t\t\treturn {\n\t\t\t\trequire: [ 'vormControlList', '^vormFieldConfig', '^vormField' ],\n\t\t\t\trestrict: 'E',\n\t\t\t\ttemplate: vormTemplateService.getDefaultControlTemplate(),\n\t\t\t\tcontroller: [ '$scope', function ( $scope ) {\n\t\t\t\t\t\n\t\t\t\t\tlet ctrl = this,\n\t\t\t\t\t\tdelegates = [],\n\t\t\t\t\t\tlimit = NaN,\n\t\t\t\t\t\tvormFieldConfig,\n\t\t\t\t\t\tvormField;\n\t\t\t\t\t\t\n\t\t\t\t\tfunction triggerAsyncViewChange ( ) {\n\t\t\t\t\t\tlet unwatch = $scope.$watchCollection(vormField.getModels, function ( ) {\n\t\t\t\t\t\t\tvormField.triggerViewChange();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tunwatch();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\tctrl.link = function ( controllers ) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet typeOpts;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvormFieldConfig = controllers[0];\n\t\t\t\t\t\tvormField = controllers[1];\n\t\t\t\t\t\t\n\t\t\t\t\t\ttypeOpts = vormFieldConfig.getConfig().valueType;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(typeOpts && typeOpts.limit !== undefined) {\n\t\t\t\t\t\t\tlimit = typeOpts.limit;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.getDelegates = function ( ) {\n\t\t\t\t\t\treturn delegates;\t\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.createDelegate = function ( name ) {\n\t\t\t\t\t\tlet delegate;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!name) {\n\t\t\t\t\t\t\tname = delegates.length.toString();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tdelegate = new VormModelDelegate(name);\n\t\t\t\t\t\tdelegates.push(delegate);\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.removeDelegate = function ( delegate ) {\n\t\t\t\t\t\t_.pull(delegates, delegate);\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.clearDelegate = function ( delegate ) {\n\t\t\t\t\t\tdelegate.clearViewValue();\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.getLimit = function ( ) {\n\t\t\t\t\t\treturn limit;\t\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.setLimit = function ( l ) {\n\t\t\t\t\t\tlimit = Number(l);\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.reachedLimit = function ( ) {\n\t\t\t\t\t\treturn limit > 0 && delegates.length > limit;\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.isClearButtonVisible = function ( ) {\n\t\t\t\t\t\treturn delegates.length > 1;\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.handleCreateClick = function ( ) {\n\t\t\t\t\t\tctrl.createDelegate();\n\t\t\t\t\t\ttriggerAsyncViewChange();\t\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.handleClearClick = function ( delegate ) {\n\t\t\t\t\t\tif(delegates.length === 1) {\n\t\t\t\t\t\t\tdelegate.clearViewValue();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctrl.removeDelegate(delegate);\n\t\t\t\t\t\t\ttriggerAsyncViewChange();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t}],\n\t\t\t\tcontrollerAs: 'vormControlList',\n\t\t\t\tlink: function ( scope, element, attrs, controllers ) {\n\t\t\t\t\t\n\t\t\t\t\tcontrollers[0].link(controllers.slice(1));\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t}]);\n\t\n})();\n","/*global angular*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.directive('vormDelegateButton', [ function ( ) {\n\t\t\n\t\treturn {\n\t\t\trequire: [ 'vormDelegateButton', '^vormFieldConfig', '^vormControlList', '^vormField' ],\n\t\t\ttemplate: \n\t\t\t'<button class=\"vorm-delegate-button\" type=\"button\" ng-click=\"vormDelegateButton.handleClick()\" ng-disabled=\"vormDelegateButton.isDisabled()\" ng-show=\"vormDelegateButton.isVisible()\">' +\n\t\t\t\t'{{vormDelegateButton.getLabel()}}' + \n\t\t\t'</button>',\n\t\t\treplace: true,\n\t\t\tcontroller: [ function ( ) {\n\t\t\t\t\n\t\t\t\tlet ctrl = this,\n\t\t\t\t\tvormFieldConfig,\n\t\t\t\t\tvormControlList,\n\t\t\t\t\tvormField;\n\t\t\t\t\n\t\t\t\tctrl.link = function ( controllers ) {\n\t\t\t\t\tvormFieldConfig = controllers[0];\n\t\t\t\t\tvormControlList = controllers[1];\n\t\t\t\t\tvormField = controllers[2];\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.handleClick = function ( ) {\n\t\t\t\t\tvormControlList.handleCreateClick();\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.isDisabled = function ( ) {\n\t\t\t\t\treturn vormControlList ? vormControlList.reachedLimit() : true;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.isVisible = function ( ) {\n\t\t\t\t\treturn vormField ? vormField.getValueType() === 'list' : false;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tctrl.getLabel = function ( ) {\n\t\t\t\t\tlet config = vormFieldConfig.getConfig(),\n\t\t\t\t\t\ttypeOptions = config ? config.valueType : null,\n\t\t\t\t\t\taddLabel = typeOptions && typeOptions.addLabel ? vormFieldConfig.invoke(typeOptions.addLabel) : '';\n\t\t\t\t\t\n\t\t\t\t\treturn addLabel;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t}],\n\t\t\tlink: function ( scope, element, attrs, controllers ) {\n\t\t\t\t\n\t\t\t\tcontrollers[0].link(controllers.slice(1));\n\t\t\t\t\n\t\t\t},\n\t\t\tcontrollerAs: 'vormDelegateButton'\n\t\t};\n\t\t\n\t}]);\n\t\n})();\n","/*global angular*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.directive('vormField', [ 'VormFieldCtrl', function ( VormFieldCtrl ) {\n\t\t\t\n\t\t\treturn {\n\t\t\t\tscope: true,\n\t\t\t\trequire: [ 'vormField', '^?vormForm' ],\n\t\t\t\tcontroller: [ '$scope', '$element', '$attrs', function ( $scope, $element, $attrs ) {\n\t\t\t\t\t\n\t\t\t\t\tconst name = $scope.$eval($attrs.vormField) || $attrs.ngModel,\n\t\t\t\t\t\tctrl = this;\n\t\t\t\t\t\n\t\t\t\t\tangular.extend(ctrl, new VormFieldCtrl(name, $element[0]));\n\t\t\t\t\t\n\t\t\t\t}],\n\t\t\t\tcontrollerAs: 'vormField',\n\t\t\t\tlink: function ( scope, element, attrs, controllers ) {\n\t\t\t\t\t\n\t\t\t\t\tconst [ vormField, vorm ] = controllers;\n\t\t\t\t\t\n\t\t\t\t\tif(vorm) {\n\t\t\t\t\t\tvorm.addField(vormField);\n\t\t\t\t\t\tscope.$on('$destroy', function ( ) {\n\t\t\t\t\t\t\tvorm.removeField(vormField);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t}]);\n\t\n})();\n","/*global angular,_*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.directive('vormFieldConfig', [ 'vormInvoke', function ( vormInvoke ) {\n\t\t\t\n\t\t\treturn {\n\t\t\t\trequire: [ 'vormFieldConfig', 'vormField', '^?vormForm' ],\n\t\t\t\tcontroller: [ '$scope', '$attrs', function ( $scope, $attrs ) {\n\t\t\t\t\t\n\t\t\t\t\tlet ctrl = this,\n\t\t\t\t\t\tconfig = $scope.$eval($attrs.vormFieldConfig),\n\t\t\t\t\t\tvormField,\n\t\t\t\t\t\tvormForm;\n\t\t\t\t\t\t\n\t\t\t\t\tctrl.link = function ( controllers ) {\n\t\t\t\t\t\tvormField = controllers[0];\n\t\t\t\t\t\tvormForm = controllers[1];\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tvormField.setName(config.name);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(config.valueType !== undefined) {\n\t\t\t\t\t\t\tif(typeof config.valueType === 'string') {\n\t\t\t\t\t\t\t\tvormField.setValueType(config.valueType);\n\t\t\t\t\t\t\t} else if(config.valueType.type !== undefined) {\n\t\t\t\t\t\t\t\tvormField.setValueType(config.valueType.type);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(_.isArray(config.required) || typeof config.required === 'function') {\n\t\t\t\t\t\t\t$scope.$watch(ctrl.invoke.bind(config.required), function ( isRequired ) {\n\t\t\t\t\t\t\t\tvormField.setRequired(!!isRequired);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvormField.setRequired(config.required || false);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.invoke = function ( invokable ) {\n\t\t\t\t\t\tlet values;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(vormForm) {\n\t\t\t\t\t\t\tvalues = vormForm.getValues();\n\t\t\t\t\t\t} else if(vormField) {\n\t\t\t\t\t\t\tvalues = {};\n\t\t\t\t\t\t\tvalues[vormField.getName()] = vormField.getValue();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn vormInvoke(invokable, {\n\t\t\t\t\t\t\t$values: values\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.getConfig = function ( ) {\n\t\t\t\t\t\treturn config;\t\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.getData = function ( ) {\n\t\t\t\t\t\treturn config.data;\t\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.invokeData = function ( key ) {\n\t\t\t\t\t\treturn ctrl.invoke(config.data[key]);\t\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.getLimit = function ( ) {\n\t\t\t\t\t\tvar limit = 1;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(vormField.getValueType() === 'list') {\n\t\t\t\t\t\t\tlimit = -1;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(config.valueType && config.valueType.limit !== undefined) {\n\t\t\t\t\t\t\t\tlimit = ctrl.invoke(config.valueType.limit);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn limit;\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t}],\n\t\t\t\tlink: function ( scope, element, attrs, controllers ) {\n\t\t\t\t\tcontrollers[0].link(controllers.slice(1));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t};\n\t\t\t\n\t\t}]);\n\t\n})();\n","/*global angular,_*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.directive('vormFieldTemplate', [ 'vormTemplateService', /*'VormValueType', 'VormModelListCtrl', 'vormInvoke',*/ function ( vormTemplateService/*, VormValueType, VormModelListCtrl, vormInvoke*/ ) {\n\t\t\t\n\t\t\tlet wrapperEl = angular.element(vormTemplateService.getDefaultTemplate());\n\t\t\t\n\t\t\tangular.element(wrapperEl[0].querySelectorAll('vorm-replace')).replaceWith(angular.element('<vorm-control-list></vorm-control-list>'));\n\t\t\t\n\t\t\twrapperEl.attr('vorm-field-config', 'vormFieldTemplate.getConfig()');\n\t\t\twrapperEl.attr('vorm-focusable-list', '');\n\t\t\t\t\n\t\t\tconst template = wrapperEl[0].outerHTML;\n\t\t\t\n\t\t\treturn {\n\t\t\t\tscope: true,\n\t\t\t\trestrict: 'E',\n\t\t\t\ttemplate: template,\n\t\t\t\treplace: true,\n\t\t\t\tcontroller: [ '$scope', '$attrs', function ( $scope, $attrs ) {\n\t\t\t\t\t\n\t\t\t\t\tlet ctrl = this,\n\t\t\t\t\t\tconfig = $scope.$eval($attrs.config) || {},\n\t\t\t\t\t\tcompiler;\n\t\t\t\t\t\n\t\t\t\t\tconfig = _.defaults(angular.copy(config), { \n\t\t\t\t\t\tname: $attrs.name,\n\t\t\t\t\t\ttype: $attrs.type,\n\t\t\t\t\t\tlabel: $attrs.label,\n\t\t\t\t\t\ttemplate: $scope.$eval($attrs.template),\n\t\t\t\t\t\trequired: $scope.$eval($attrs.required),\n\t\t\t\t\t\tdata: $scope.$eval($attrs.data) || {}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(!config.name || !config.type) {\n\t\t\t\t\t\tthrow new Error('Missing one of required arguments: name, type ');\n\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\tcompiler = vormTemplateService.getModelCompiler(config.type, config.modelTemplate);\n\t\t\t\t\t\n\t\t\t\t\tctrl.getConfig = function ( ) {\n\t\t\t\t\t\treturn config;\t\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.getModelCompiler = function ( ) {\n\t\t\t\t\t\treturn compiler;\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\t// ctrl.link = function ( controllers ) {\n\t\t\t\t\t// \tvormField = controllers[0];\n\t\t\t\t\t// \tvormForm = controllers[1];\n\t\t\t\t\t\t\n\t\t\t\t\t// \tvormField.setName(config.name);\n\t\t\t\t\t\t\n\t\t\t\t\t// \tif(config.valueType !== undefined) {\n\t\t\t\t\t// \t\tif(typeof config.valueType === 'string') {\n\t\t\t\t\t// \t\t\tvormField.setValueType(config.valueType);\n\t\t\t\t\t// \t\t} else if(config.valueType.type !== undefined) {\n\t\t\t\t\t// \t\t\tvormField.setValueType(config.valueType.type);\n\t\t\t\t\t// \t\t\tif(config.valueType.limit) {\n\t\t\t\t\t// \t\t\t\tctrl.setDelegateLimit(config.valueType.limit);\n\t\t\t\t\t// \t\t\t}\n\t\t\t\t\t// \t\t}\n\t\t\t\t\t// \t}\n\t\t\t\t\t\t\n\t\t\t\t\t// \tvormField.setRequired(config.required || false);\n\t\t\t\t\t\t\n\t\t\t\t\t// \tvormModelList.addDelegate();\n\t\t\t\t\t// };\n\t\t\t\t\t\n\t\t\t\t\t// ctrl.getLabel = function ( ) {\n\t\t\t\t\t// \treturn invoke(config.label);\n\t\t\t\t\t// };\n\t\t\t\t\t// tw\n\t\t\t\t\t// ctrl.getAddLabel = function ( ) {\n\t\t\t\t\t// \tvar invokable = config.valueType && config.valueType.addLabel || '';\n\t\t\t\t\t// \treturn invoke(invokable);\n\t\t\t\t\t// };\n\t\t\t\t\t\n\t\t\t\t\t// ctrl.getModelCompiler = function ( ) {\n\t\t\t\t\t// \treturn compiler;\n\t\t\t\t\t// };\n\t\t\t\t\t\n\t\t\t\t\t// ctrl.getInputData = function ( ) {\n\t\t\t\t\t// \treturn config.data;\t\n\t\t\t\t\t// };\n\t\t\t\t\t\n\t\t\t\t\t// ctrl.getInvokedData = function ( key ) {\n\t\t\t\t\t// \treturn invoke(ctrl.getInputData()[key]);\n\t\t\t\t\t// };\n\t\t\t\t\t\n\t\t\t\t\t// ctrl.addInput = function ( input ) {\n\t\t\t\t\t// \tinputs.push(input);\n\t\t\t\t\t// };\n\t\t\t\t\t\n\t\t\t\t\t// ctrl.removeInput = function ( input ) {\n\t\t\t\t\t// \t_.pull(inputs, input);\t\n\t\t\t\t\t// };\n\t\t\t\t\t\n\t\t\t\t\t// ctrl.getInputs = function ( ) {\n\t\t\t\t\t// \treturn inputs;\t\n\t\t\t\t\t// };\n\t\t\t\t\t\n\t\t\t\t\t// ctrl.getLastInputId = function ( ) {\n\t\t\t\t\t// \tvar input = _.last(inputs),\n\t\t\t\t\t// \t\tinputId;\n\t\t\t\t\t\t\t\n\t\t\t\t\t// \tif(input) {\n\t\t\t\t\t// \t\tinputId = input.getInputId();\n\t\t\t\t\t// \t}\n\t\t\t\t\t\t\n\t\t\t\t\t// \treturn inputId;\n\t\t\t\t\t// };\n\t\t\t\t\t\n\t\t\t\t\t// ctrl.getDelegates = vormModelList.getDelegates;\n\t\t\t\t\t// ctrl.setDelegateLimit = vormModelList.setLimit;\n\t\t\t\t\t// ctrl.getDelegateLimit = vormModelList.getLimit;\n\t\t\t\t\t// ctrl.reachedDelegateLimit = vormModelList.reachedLimit;\n\t\t\t\t\t\n\t\t\t\t\t// ctrl.handleDelegateAddClick = function ( ) {\n\t\t\t\t\t\t\n\t\t\t\t\t// \tfunction onModelChange ( ) {\n\t\t\t\t\t// \t\t_.pull(vormField.modelChangeListeners, onModelChange);\n\t\t\t\t\t// \t\tvormField.triggerViewChange();\n\t\t\t\t\t// \t}\n\t\t\t\t\t\t\n\t\t\t\t\t// \tvormField.modelChangeListeners.push(onModelChange);\n\t\t\t\t\t// \tvormModelList.addDelegate();\n\t\t\t\t\t\t\n\t\t\t\t\t// };\n\t\t\t\t\t\n\t\t\t\t\t// ctrl.handleDelegateClearClick = function ( delegate) {\n\t\t\t\t\t\t\n\t\t\t\t\t// \tfunction onModelChange ( ) {\n\t\t\t\t\t// \t\t_.pull(vormField.modelChangeListeners, onModelChange);\n\t\t\t\t\t// \t\tvormField.triggerViewChange();\n\t\t\t\t\t// \t}\n\t\t\t\t\t\t\n\t\t\t\t\t// \tif(vormModelList.getDelegates().length === 1) {\n\t\t\t\t\t// \t\tvormModelList.clearDelegate(delegate);\n\t\t\t\t\t// \t} else {\n\t\t\t\t\t// \t\tvormField.modelChangeListeners.push(onModelChange);\n\t\t\t\t\t// \t\tvormModelList.removeDelegate(delegate);\n\t\t\t\t\t// \t}\n\t\t\t\t\t// };\n\t\t\t\t\t\n\t\t\t\t}],\n\t\t\t\tcontrollerAs: 'vormFieldTemplate',\n\t\t\t\tlink: function ( scope, element, attrs, controllers ) {\n\t\t\t\t\t\n\t\t\t\t\t// controllers[0].link(controllers.slice(1));\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t}]);\n\t\n})();\n","/*global angular*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.directive('vormFieldWrapper', [ 'vormTemplateService', function ( vormTemplateService ) {\n\t\t\t\n\t\t\tlet wrapped = angular.element(vormTemplateService.getDefaultTemplate());\n\t\t\t\n\t\t\twrapped.find('vorm-replace').append('<ng-transclude></ng-transclude>');\n\t\t\t\n\t\t\tconst template = wrapped[0].outerHTML;\n\t\t\t\n\t\t\treturn {\n\t\t\t\trestrict: 'A',\n\t\t\t\ttransclude: true,\n\t\t\t\ttemplate: template,\n\t\t\t\treplace: true,\n\t\t\t\tcontroller: [ '$attrs', function ( $attrs ) {\n\t\t\t\t\t\n\t\t\t\t\tvar ctrl = this;\n\t\t\t\t\t\n\t\t\t\t\tctrl.getLabel = function ( ) {\n\t\t\t\t\t\treturn $attrs.label;\t\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t}]\n\t\t\t};\n\t\t\t\n\t\t}]);\n\t\n})();\n","(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.directive('vormFieldset', [ function ( ) {\n\t\t\t\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\ttemplate: `\n\t\t\t\t\t<fieldset>\n\t\t\t\t\t\t<vorm-field-template config=\"field\" ng-repeat=\"field in vormFieldset.getFields()\">\n\t\t\t\t\t\t</vorm-field-template>\n\t\t\t\t\t</fieldset>\n\t\t\t\t`,\n\t\t\t\tscope: {\n\t\t\t\t\tfields: '&'\n\t\t\t\t},\n\t\t\t\treplace: true,\n\t\t\t\tcontroller: [ '$scope', function ( $scope ) {\n\t\t\t\t\t\n\t\t\t\t\tvar ctrl = this;\n\t\t\t\t\t\n\t\t\t\t\tctrl.getFields = $scope.fields;\n\t\t\t\t\t\n\t\t\t\t}],\n\t\t\t\tcontrollerAs: 'vormFieldset'\n\t\t\t};\n\t\t\t\n\t\t}]);\n\t\n})();\n","/*global angular,_*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.directive('vormFocusableList', [ function ( ) {\n\t\t\t\n\t\t\treturn {\n\t\t\t\tcontroller: [ function ( ) {\n\t\t\t\t\t\n\t\t\t\t\tlet ctrl = this,\n\t\t\t\t\t\tids = [];\n\t\t\t\t\t\n\t\t\t\t\tctrl.addId = function ( id ) {\n\t\t\t\t\t\tids.push(id);\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.removeId = function ( id ) {\n\t\t\t\t\t\t_.pull(ids, id);\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.getId = function ( ) {\n\t\t\t\t\t\treturn ids[ids.length-1];\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t}]\n\t\t\t};\n\t\t\t\n\t\t}]);\n\t\n})();\n","/*global angular,_*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.directive('vormForm', [ function ( ) { \n\t\t\t\n\t\t\treturn {\n\t\t\t\tscope: true,\n\t\t\t\trequire: [ 'form' ],\n\t\t\t\tcontroller: [ '$element', function ( $element ) {\n\t\t\t\t\t\n\t\t\t\t\tconst ctrl = this,\n\t\t\t\t\t\tfields = [],\n\t\t\t\t\t\tchangeListeners = [],\n\t\t\t\t\t\tsubmitListeners = [];\n\t\t\t\t\t\n\t\t\t\t\tlet values = {};\n\t\t\t\t\t\t\n\t\t\t\t\tfunction recalc ( ) {\n\t\t\t\t\t\tvalues = _(fields)\n\t\t\t\t\t\t\t.indexBy(function ( field ) {\n\t\t\t\t\t\t\t\treturn field.getName();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.mapValues(function ( field ) {\n\t\t\t\t\t\t\t\treturn field.getValue();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.value();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tObject.freeze(values);\n\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\tfunction handleChange ( ) {\n\t\t\t\t\t\tconst outerArgs = arguments;\n\t\t\t\t\t\t\n\t\t\t\t\t\trecalc();\n\t\t\t\t\t\t\n\t\t\t\t\t\t_.each(changeListeners, function ( listener ) {\n\t\t\t\t\t\t\tlistener.apply(ctrl, outerArgs);\t\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfunction handleModelChange ( ) {\n\t\t\t\t\t\trecalc();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tctrl.addField = function ( field ) {\n\t\t\t\t\t\tfields.push(field);\n\t\t\t\t\t\tfield.viewChangeListeners.push(handleChange);\n\t\t\t\t\t\tfield.modelChangeListeners.push(handleModelChange);\n\t\t\t\t\t\trecalc();\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.removeField = function ( field ) {\n\t\t\t\t\t\t_.pull(fields, field);\n\t\t\t\t\t\t_.pull(field.viewChangeListeners, handleChange);\n\t\t\t\t\t\t_.pull(field.modelChangeListeners, handleModelChange);\n\t\t\t\t\t\trecalc();\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.getFields = function ( ) {\n\t\t\t\t\t\treturn fields;\t\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.getValues = function ( ) {\n\t\t\t\t\t\treturn values;\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.changeListeners = changeListeners;\n\t\t\t\t\tctrl.submitListeners = submitListeners;\n\t\t\t\t\t\n\t\t\t\t\t'valid invalid dirty pristine touched untouched'.split(' ').forEach(function ( type ) {\n\t\t\t\t\t\tconst capitalized = type.substr(0,1).toUpperCase() + type.substr(1),\n\t\t\t\t\t\t\tgetName = 'is' + capitalized,\n\t\t\t\t\t\t\tsetName = 'set' + capitalized,\n\t\t\t\t\t\t\tmethod = [ 'valid', 'pristine', 'untouched' ].indexOf(type) !== -1 ? 'every' : 'some';\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tctrl[getName] = function ( ) {\n\t\t\t\t\t\t\treturn fields[method](function ( field ) {\n\t\t\t\t\t\t\t\treturn field[getName]();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!(type === 'valid' || type === 'invalid')) {\n\t\t\t\t\t\t\tctrl[setName] = function ( ) {\n\t\t\t\t\t\t\t\tconst outerArgs = arguments;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tfields.forEach(function ( field ) {\n\t\t\t\t\t\t\t\t\tfield[setName].apply(field, outerArgs);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t$element.bind('submit', function ( ) {\n\t\t\t\t\t\t_.invoke(submitListeners, 'call', null, values);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\treturn ctrl;\n\t\t\t\t\t\n\t\t\t\t}],\n\t\t\t\tcontrollerAs: 'vormForm'\n\t\t\t};\n\t\t\t\n\t\t\t\n\t\t}]);\n\t\n})();\n","/*global angular*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.factory('vormInvoke', [ '$injector', function ( $injector ) {\n\t\t\t\n\t\t\treturn function ( invokable, locals ) {\n\t\t\t\t\n\t\t\t\tvar value;\n\t\t\t\t\n\t\t\t\tif(!invokable) {\n\t\t\t\t\treturn invokable;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif((_.isArray(invokable) && typeof _.last(invokable) === 'function') || invokable.$inject !== undefined) {\n\t\t\t\t\tvalue = $injector.invoke(invokable, null, angular.copy(locals));\n\t\t\t\t} else if(typeof invokable === 'function') {\n\t\t\t\t\tvalue = invokable();\n\t\t\t\t} else {\n\t\t\t\t\tvalue = invokable;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\t\n\t\t}]);\n\t\n})();\n","/*global angular*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.directive('vormLabel', [ function ( ) {\n\t\t\t\n\t\t\treturn {\n\t\t\t\trequire: [ 'vormLabel', '^vormFieldConfig', '^vormFocusableList' ],\n\t\t\t\ttemplate: '<label class=\"vorm-field-label\">{{vormLabel.getLabel()}}</label>',\n\t\t\t\treplace: true,\n\t\t\t\tcontroller: [ '$scope', '$element', function ( $scope, $element ) {\n\t\t\t\t\t\n\t\t\t\t\tlet ctrl = this,\n\t\t\t\t\t\tvormFieldConfig,\n\t\t\t\t\t\tvormFocusableList;\n\t\t\t\t\t\n\t\t\t\t\tctrl.link = function ( controllers ) {\n\t\t\t\t\t\tvormFieldConfig = controllers[0];\n\t\t\t\t\t\tvormFocusableList = controllers[1];\n\t\t\t\t\t\t\n\t\t\t\t\t\t$scope.$watch(vormFocusableList.getId, function ( inputId ) {\n\t\t\t\t\t\t\t$element.attr('for', inputId);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tctrl.getLabel = function ( ) {\n\t\t\t\t\t\treturn vormFieldConfig.invoke(vormFieldConfig.getConfig().label);\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t}],\n\t\t\t\tcontrollerAs: 'vormLabel',\n\t\t\t\tlink: function ( scope, element, attrs, controllers ) {\n\t\t\t\t\t\n\t\t\t\t\tcontrollers[0].link(controllers.slice(1));\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t}]);\n\t\n})();\n","/*global angular*/\n(function ( ) { \n\t\n\tangular.module('vorm')\n\t\t.directive('vormSubmit', [ '$parse', function ( $parse ) {\n\t\t\t\n\t\t\treturn {\n\t\t\t\trequire: [ 'vormForm' ],\n\t\t\t\tlink: function ( scope, element, attrs, controllers ) {\n\t\t\t\t\t\n\t\t\t\t\tconst [ vorm ] = controllers;\n\t\t\t\t\tlet cb;\n\t\t\t\t\t\n\t\t\t\t\tfunction handleSubmit ( ) {\n\t\t\t\t\t\tcb(scope, {\n\t\t\t\t\t\t\t$values: vorm.getValues()\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tcb = $parse(attrs.vormSubmit);\n\t\t\t\t\t\n\t\t\t\t\telement.bind('submit', handleSubmit);\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t}]);\n})();\n","/*global angular,_*/\n(function ( ) {\n\t\n\tangular.module('vorm')\n\t\t.provider('vormTemplateService', [ function ( ) {\n\t\t\t\n\t\t\tlet wrapperTemplate,\n\t\t\t\tcontrolTemplate,\n\t\t\t\tmodelCompilers,\n\t\t\t\tmodelTemplates = {};\n\t\t\t\t\n\t\t\tconst vormTemplateService = {};\n\t\t\t\n\t\t\twrapperTemplate = '' + \n\t\t\t\t'<div ng-class=\"vormField.getClassObj()\">' + \n\t\t\t\t\t'<vorm-label></vorm-label>' + \n\t\t\t\t\t'<vorm-replace></vorm-replace>' +\n\t\t\t\t'</div>';\n\t\t\t\t\n\t\t\tcontrolTemplate = \n\t\t\t\t'<vorm-control ng-repeat=\"delegate in vormControlList.getDelegates()\">' + \n\t\t\t\t\t'<vorm-control-replace></vorm-control-replace>' + \n\t\t\t\t\t'<button class=\"vorm-control-clear-button\" type=\"button\" ng-click=\"vormControlList.handleClearClick(delegate)\" ng-show=\"vormControlList.isClearButtonVisible()\">x</button>' + \n\t\t\t\t'</vorm-control>' + \n\t\t\t\t'<vorm-delegate-button>' + \n\t\t\t\t'</vorm-delegate-button>';\n\t\t\t\t\n\t\t\tmodelTemplates = _(modelTemplates)\n\t\t\t\t.assign(\n\t\t\t\t\t_('date datetime datetime-local email month number password search tel text time url week checkbox'.split(' '))\n\t\t\t\t\t\t.zipObject()\n\t\t\t\t\t\t.mapValues(function ( value, key ) {\n\t\t\t\t\t\t\tvar placeholder = _.includes('text search tel url email number password'.split(' '), key) ?\n\t\t\t\t\t\t\t\t`placeholder=\"{{vormControl.invokeData('placeholder')}}\"`\n\t\t\t\t\t\t\t\t: '';\n\t\t\t\t\t\t\treturn `<input type=\"${key}\" ${placeholder}/>`;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.value()\n\t\t\t\t)\n\t\t\t\t.value();\n\t\t\t\t\n\t\t\tmodelTemplates.select = `<select ng-options=\"option.value as option.label for option in vormControl.getOptions()\"><option value=\"\" data-ng-show=\"vormControl.invokeData('notSelectedLabel')\">{{vormControl.invokeData('notSelectedLabel')}}</option></select>`;\n\t\t\t\n\t\t\tmodelTemplates = _.mapValues(modelTemplates, function ( template ) {\n\t\t\t\treturn angular.element(template);\n\t\t\t});\t\n\t\t\t\n\t\t\tfunction modifyModelTemplates ( processor ) {\n\t\t\t\tmodelTemplates = _.mapValues(modelTemplates, function ( template, type ) {\n\t\t\t\t\treturn processor(template, type);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tfunction modifyTemplate ( processor ) {\n\t\t\t\tconst processedEl = processor(angular.element(wrapperTemplate));\n\t\t\t\tprocessedEl.attr('vorm-field', '');\n\t\t\t\t\n\t\t\t\tprocessedEl.find('vorm-control').attr('limit', 'vormFieldConfig.getLimit()');\n\t\t\t\t\n\t\t\t\twrapperTemplate = processedEl[0].outerHTML;\n\t\t\t}\n\t\t\t\n\t\t\tfunction modifyControlTemplate ( processor ) {\n\t\t\t\tcontrolTemplate = processor(angular.element(controlTemplate))[0].outerHTML;\n\t\t\t}\n\t\t\t\n\t\t\tmodifyTemplate(function ( ) {\n\t\t\t\treturn angular.element(wrapperTemplate);\t\n\t\t\t});\n\t\t\t\n\t\t\tmodifyControlTemplate(function ( ) {\n\t\t\t\treturn angular.element(controlTemplate);\n\t\t\t});\n\t\t\t\n\t\t\t\n\t\t\treturn {\n\t\t\t\t$get: [ '$compile', function ( $compile ) {\n\t\t\t\t\t\n\t\t\t\t\tvormTemplateService.getDefaultTemplate = function ( ) {\n\t\t\t\t\t\treturn wrapperTemplate;\t\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tvormTemplateService.getDefaultControlTemplate = function ( ) {\n\t\t\t\t\t\treturn controlTemplate;\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tvormTemplateService.getModelCompiler = function ( type, template ) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet compiler;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(template) {\n\t\t\t\t\t\t\tcompiler = $compile(template);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcompiler = modelCompilers[type];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!compiler) {\n\t\t\t\t\t\t\tthrow new Error(`Model template for ${type} not found`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn compiler;\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tmodelCompilers = _.mapValues(modelTemplates, function ( el ) {\n\t\t\t\t\t\tlet modelEl;\n\t\t\t\t\t\t\n\t\t\t\t\t\t_.some(el, function ( element ) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlet childEl;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(element.hasAttribute('ng-model')) {\n\t\t\t\t\t\t\t\tmodelEl = angular.element(element);\n\t\t\t\t\t\t\t} else if((childEl = element.querySelector('[ng-model]'))) {\n\t\t\t\t\t\t\t\tmodelEl = angular.element(childEl);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn !!modelEl;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tif(!modelEl) {\n\t\t\t\t\t\t\tmodelEl = el;\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\tmodelEl.attr('ng-model', 'delegate.value');\n\t\t\t\t\t\tmodelEl.attr('ng-required', 'vormControl.isRequired()');\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn $compile(el);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\treturn vormTemplateService;\n\t\t\t\t\t\n\t\t\t\t}],\n\t\t\t\tmodifyModelTemplates: modifyModelTemplates,\n\t\t\t\tmodifyControlTemplate: modifyControlTemplate,\n\t\t\t\tmodifyTemplate: modifyTemplate\n\t\t\t};\n\t\t\t\n\t\t}]);\n\t\n})();\n"],"sourceRoot":"/source/"}